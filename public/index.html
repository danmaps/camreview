<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>CamReview</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="route.css" />
  </head>
  <body>
    <div class="app">
      <header class="topbar">
        <div class="topbar-left">
          <div class="menu">
            <button class="topbar-btn menu-btn" id="menuBtn" type="button" aria-label="Menu" aria-expanded="false">
              â˜°
            </button>
            <div class="menu-pop" id="menuPop" role="menu" aria-hidden="true">
              <button class="menu-item" id="menuBrowse" type="button" role="menuitem">Browse</button>
              <button class="menu-item" id="menuReview" type="button" role="menuitem">Review</button>
              <button class="menu-item" id="menuToggleList" type="button" role="menuitem">Toggle list</button>
            </div>
          </div>
          <div class="brand">CamReview</div>
          <div class="page-chip" id="pageChip" aria-hidden="true"></div>
        </div>
        <div class="topbar-right">
          <div class="progress" id="progressText">0 / 0</div>

          <button class="topbar-btn" id="libraryToggle" type="button">List</button>
        </div>
      </header>

      <div class="browse-panel" id="browsePanel" aria-hidden="true">
        <section class="heatmap" aria-label="Capture heat map">
          <div class="heatmap-header">
            <div class="heatmap-title">Timeline</div>
            <div class="heatmap-meta" id="heatmapMeta"></div>
          </div>
          <div class="heatmap-grid" id="heatmapGrid" role="grid" aria-label="Daily capture grid"></div>
          <div class="hourbar" id="hourBar" aria-label="Hourly capture bar"></div>
        </section>
      </div>

      <div class="content">
        <main class="viewer" id="viewer">
          <div class="media-card" id="mediaCard">
            <img
              id="imageView"
              class="media hidden"
              alt="Trail camera image"
              draggable="false"
            />
            <img
              id="previewView"
              class="media hidden"
              alt="Video preview"
              draggable="false"
            />
            <video
              id="videoView"
              class="media hidden"
              controls
              playsinline
              muted
              autoplay
              loop
            ></video>
          </div>
          <div class="nav">
            <button class="nav-arrow nav-prev" id="prevBtn" aria-label="Previous" title="Previous (left arrow)">
              &#x2039;
            </button>
            <button class="nav-arrow nav-next" id="nextBtn" aria-label="Next" title="Next (right arrow)">
              &#x203A;
            </button>
          </div>
        <div class="overlay">
          <div class="swipe-label keep" id="swipeKeep">KEEP</div>
          <div class="swipe-label delete" id="swipeDelete">DELETE</div>
          <div class="swipe-label favorite" id="swipeFavorite">FAVORITE</div>
          <div class="batch-indicator" id="batchIndicator" aria-hidden="true">
            <svg class="batch-icon batch-ok" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path d="M9.172 16.242 4.93 12l-1.414 1.414 5.656 5.657L20.486 7.757l-1.414-1.414z"/>
            </svg>
            <svg class="batch-icon batch-no" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path d="M18.364 5.636 12 12l6.364 6.364-1.414 1.414L10.586 13.414 4.222 19.778 2.808 18.364 9.172 12 2.808 5.636 4.222 4.222l6.364 6.364 6.364-6.364z"/>
            </svg>
          </div>
        </div>
          <div id="emptyState" class="empty hidden">
            <div class="empty-title">Queue cleared</div>
            <div class="empty-subtitle">No unreviewed items remain.</div>
          </div>
        </main>
        <div class="library-resizer" id="libraryResizer" aria-hidden="true"></div>
        <aside class="library collapsed" id="libraryPanel" aria-hidden="true">
          <div class="library-header">
            <div class="library-controls">
              <input
                id="librarySearch"
                type="search"
                placeholder="Search"
                autocomplete="off"
              />
              <select id="libraryFilter">
                <option value="all">All</option>
                <option value="unreviewed">Unreviewed</option>
                <option value="keep">Keep</option>
                <option value="favorite">Favorite</option>
                <option value="delete">Delete</option>
              </select>
            </div>
            <div class="library-meta" id="libraryMeta"></div>
          </div>
          <div class="library-table">
            <table>
              <thead>
                <tr>
                  <th>Type</th>
                  <th>Name</th>
                  <th>Critter</th>
                  <th>Conf</th>
                  <th>Status</th>
                  <th>Folder</th>
                  <th>Captured</th>
                  <th>Size</th>
                  <th>Reviewed</th>
                </tr>
              </thead>
              <tbody id="libraryBody"></tbody>
            </table>
          </div>
        </aside>
      </div>

      <div class="file-info" id="fileInfo">
        <span class="file-name" id="fileName"></span>
      </div>

      <section class="caption">
        <textarea
          id="captionInput"
          rows="2"
          placeholder="Caption..."
        ></textarea>
        <div class="caption-status" id="captionStatus"></div>
      </section>

      <section class="controls">
        <button class="btn keep" id="keepBtn" title="Press K or swipe right">Keep</button>
        <button class="btn favorite" id="favoriteBtn" title="Press F or swipe up">Favorite</button>
        <button class="btn delete" id="deleteBtn" title="Press D or swipe left">Delete</button>
      </section>

      <section class="secondary">
        <button class="btn ghost" id="undoBtn" title="Undo last action">Undo</button>
        <button class="btn ghost btn-stack" id="batchDeleteBtn">
          <span class="btn-title">AI batch: animals only</span>
          <span class="btn-sub">(moves no-animal photos to Trash + writes captions)</span>
        </button>
      </section>

      <footer class="status" id="status"></footer>
    </div>

    <script src="app.js"></script>
  </body>
</html>
